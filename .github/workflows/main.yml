name: build nodejs application
on:
 push:
  branches:
  - master
jobs:
 buildjob:
  runs-on: ubuntu-latest
  steps:
  - name: Clone the repo
    uses: actions/checkout@v5
  - name: Install nodejs
    uses: actions/setup-node@v6
    with:
     node-version: '18'
     cache: 'npm'
  - name: Install dependencies
    run: npm ci
  - name: Run tests
    run: npm test
  - name: upload the file to github
    uses: actions/upload-artifact@v4
    with:
     name: test.json
     path: /home/runner/work/Nodejs-GithubActions/Nodejs-GithubActions/test.json
  - name: Build code
    run: npm run build



